# 17.多种类型的身份鉴别机制
+ What you know(口令)
   + 口令激活PKI（容易遭受攻击，对服务器安全更加敏感）
      + 虚拟软令牌
         + 私钥用口令加密，被加密的私钥存放于服务器，使用时通过口令验证身份，协商会话秘钥，获得数据解密得私钥。
      + 虚拟智能卡
         + d=d1+d2。d1是用户口令，d2是存储在服务器上的秘密元素。
         + 使用时用户通过口令向服务器验证身份，双方协商会话秘钥
         + 服务器端：c2=m^(d2)mod N，并将其发送给用户
         + 用户端：c=c2 ^(d1)=m^(d1)mod N=m^(d)mod
   + 基于手机密码模块——将用户部分存放至手机中
+ What you have（USB KEY、TOKEN、手机验证）
+ What you are（生物特征）
+ Mixed（多因素身份鉴别）
   + 其安全性不能低于通常情况下的鉴别机制
+ somebody you know（紧急鉴别）
# 18.OAuth &OpenId
### 18.1 单点登录（SSO）
+ Kerberos--典型的单点登录 
+ SAML
### 18.2 OAuth
+ Abstract Protocol Flow（此处应该有图）
   1. client向resource owner发出authorization request，返回authorization grant。
   2. client向authorization server发出authorization grant，返回access token。
   3. client向resource server发出access token，返回protected server。
+ [Authorization code Flow](https://github.com/iaojun/course/blob/master/picture/authorization_code_flow.png/)(此处有图)
   1. A:client重定向resource owner的user-agent到authorization终端。
   2. C:authorization server使用前面提供的重定向URI将user-agent重定向回client。重定向URI包括一个authorization code和client先前提供的本地状态。
   3. D:client通过authorization code从authorization server的令牌端点请求访问令牌。在发出请求时，client将使用授权服务器进行身份验证。 
   4. E：授权服务器使用访问令牌和刷新令牌（可选）进行响应。授权服务器对客户端进行身份验证，验证授权代码，并确保收到的重定向URI与步骤（c）中用于重定向客户端的URI匹配。 
### 18.3 OpenId
